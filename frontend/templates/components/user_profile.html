<div class="user-section">
    <div class="user-card">
        <h3><i class="fas fa-user-edit"></i> Change Username</h3>
        <div class="setting-item">
            <label for="currentUsername">Current Username:</label>
            <span id="currentUsername">Loading...</span>
        </div>
        <div class="setting-item">
            <label for="newUsername">New Username:</label>
            <input type="text" id="newUsername" class="form-control">
        </div>
        <button id="saveUsername" class="user-button save-button">Save Username</button>
        <div id="usernameStatus" style="display: none;"></div>
    </div>
    
    <div class="user-card">
        <h3><i class="fas fa-key"></i> Change Password</h3>
        <div class="setting-item">
            <label for="currentPassword">Current Password:</label>
            <input type="password" id="currentPassword" class="form-control">
        </div>
        <div class="setting-item">
            <label for="newPassword">New Password:</label>
            <input type="password" id="newPassword" class="form-control">
        </div>
        <div class="setting-item">
            <label for="confirmPassword">Confirm Password:</label>
            <input type="password" id="confirmPassword" class="form-control">
        </div>
        <button id="savePassword" class="user-button save-button">Save Password</button>
        <div id="passwordStatus" style="display: none;"></div>
    </div>
    
    <div class="user-card">
        <h3><i class="fas fa-shield-alt"></i> Two-Factor Authentication</h3>
        <div id="twoFactorStatus" class="setting-item">
            <label>Status:</label>
            <span id="twoFactorEnabled">Loading...</span>
        </div>
        
        <div id="enableTwoFactorSection" style="display: none;">
            <button id="enableTwoFactor" class="user-button">Enable 2FA</button>
        </div>
        
        <div id="setupTwoFactorSection" style="display: none;">
            <div class="qr-code-container">
                <div class="qr-code">
                    <img id="qrCode" src="" alt="QR Code">
                </div>
            </div>
            <div class="setting-item">
                <label for="secretKey">Secret Key:</label>
                <div class="secret-key" id="secretKey"></div>
                <p class="setting-help">Use this key if you can't scan the QR code</p>
            </div>
            <div class="setting-item">
                <label for="verificationCode">Verification Code:</label>
                <input type="text" id="verificationCode" class="form-control" placeholder="000000" maxlength="6">
            </div>
            <button id="verifyTwoFactor" class="user-button save-button">Verify and Enable</button>
            <div id="verifyStatus" style="display: none;"></div>
        </div>
        
        <div id="disableTwoFactorSection" style="display: none;">
            <div class="setting-item">
                <label for="disableCode">Verification Code:</label>
                <input type="text" id="disableCode" class="form-control" placeholder="000000" maxlength="6">
            </div>
            <button id="disableTwoFactor" class="user-button danger-button">Disable 2FA</button>
            <div id="disableStatus" style="display: none;"></div>
        </div>
    </div>
</div>
