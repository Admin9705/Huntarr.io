"use strict";(self.webpackChunkhuntarr_docs=self.webpackChunkhuntarr_docs||[]).push([[418],{3159:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=t(8102),a=(t(3696),t(9916));const i={sidebar_position:1},o="Performance Tuning",l={unversionedId:"advanced/performance-tuning",id:"advanced/performance-tuning",title:"Performance Tuning",description:"Huntarr is designed to be efficient, but there are several ways to optimize its performance based on your specific environment. This guide provides advanced settings and techniques to ensure Huntarr operates smoothly while minimizing resource usage.",source:"@site/docs/advanced/performance-tuning.md",sourceDirName:"advanced",slug:"/advanced/performance-tuning",permalink:"/Huntarr.io/docs/advanced/performance-tuning",draft:!1,editUrl:"https://github.com/plexguide/Huntarr.io/tree/main/docs/docs/advanced/performance-tuning.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Frequently Asked Questions",permalink:"/Huntarr.io/docs/faq"},next:{title:"Running Multiple Huntarr Instances",permalink:"/Huntarr.io/docs/guides/multi-instance"}},s={},u=[{value:"Understanding Resource Usage",id:"understanding-resource-usage",level:2},{value:"CPU Optimization",id:"cpu-optimization",level:2},{value:"Reduce API Load",id:"reduce-api-load",level:3},{value:"Stagger Operations",id:"stagger-operations",level:3},{value:"Memory Optimization",id:"memory-optimization",level:2},{value:"Reduce State Data Size",id:"reduce-state-data-size",level:3},{value:"Container Memory Limits",id:"container-memory-limits",level:3},{value:"Disk I/O Optimization",id:"disk-io-optimization",level:2},{value:"Minimize Metadata Operations",id:"minimize-metadata-operations",level:3},{value:"Optimize Log Management",id:"optimize-log-management",level:3},{value:"Network Optimization",id:"network-optimization",level:2},{value:"Reduce API Traffic",id:"reduce-api-traffic",level:3},{value:"Optimize for High-Latency Connections",id:"optimize-for-high-latency-connections",level:3},{value:"Multi-Instance Performance",id:"multi-instance-performance",level:2},{value:"Docker Host Tuning",id:"docker-host-tuning",level:2},{value:"Performance Monitoring",id:"performance-monitoring",level:2},{value:"Built-in Monitoring",id:"built-in-monitoring",level:3},{value:"External Monitoring",id:"external-monitoring",level:3}],c={toc:u},m="wrapper";function p({components:e,...n}){return(0,a.yg)(m,(0,r.A)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"performance-tuning"},"Performance Tuning"),(0,a.yg)("p",null,"Huntarr is designed to be efficient, but there are several ways to optimize its performance based on your specific environment. This guide provides advanced settings and techniques to ensure Huntarr operates smoothly while minimizing resource usage."),(0,a.yg)("h2",{id:"understanding-resource-usage"},"Understanding Resource Usage"),(0,a.yg)("p",null,"Huntarr's resource consumption is primarily influenced by:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"API Request Frequency"),": How often Huntarr polls your *arr applications"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Hunt Volume"),": The number of items processed in each cycle"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Command Monitoring"),": How often Huntarr checks the status of commands"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Metadata Operations"),": Whether Huntarr refreshes metadata for each item")),(0,a.yg)("h2",{id:"cpu-optimization"},"CPU Optimization"),(0,a.yg)("h3",{id:"reduce-api-load"},"Reduce API Load"),(0,a.yg)("p",null,"The most effective way to reduce CPU usage is to optimize API interactions:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-yaml"},"# Recommended low-CPU settings\nhunt_missing: 5            # Process fewer items per cycle\nhunt_upgrades: 5           # Process fewer upgrade items per cycle\nsleep_duration: 1800       # Longer sleep between cycles (30 minutes)\ncommand_wait_delay: 2      # Check command status less frequently\ncommand_wait_attempts: 300 # Fewer status checks\nskip_refresh: true         # Skip metadata refresh operations\n")),(0,a.yg)("h3",{id:"stagger-operations"},"Stagger Operations"),(0,a.yg)("p",null,"For systems running multiple *arr applications:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Enable only one or two *arr connections at a time"),(0,a.yg)("li",{parentName:"ul"},"Run Huntarr on a schedule rather than continuously"),(0,a.yg)("li",{parentName:"ul"},"Use different sleep durations for each type of operation")),(0,a.yg)("h2",{id:"memory-optimization"},"Memory Optimization"),(0,a.yg)("h3",{id:"reduce-state-data-size"},"Reduce State Data Size"),(0,a.yg)("p",null,"Huntarr maintains state to avoid reprocessing the same items:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Periodically clear the state files if memory usage grows"),(0,a.yg)("li",{parentName:"ul"},"Set lower hunt values to reduce the amount of state data")),(0,a.yg)("h3",{id:"container-memory-limits"},"Container Memory Limits"),(0,a.yg)("p",null,"When running in Docker, you can limit Huntarr's memory usage:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"docker run -d --name huntarr \\\n  --restart always \\\n  --memory=256m \\\n  --memory-swap=256m \\\n  -p 9705:9705 \\\n  -v /your-path/huntarr:/config \\\n  -e TZ=America/New_York \\\n  huntarr/huntarr:latest\n")),(0,a.yg)("p",null,"Or in Docker Compose:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-yaml"},'services:\n  huntarr:\n    image: huntarr/huntarr:latest\n    container_name: huntarr\n    restart: always\n    mem_limit: 256m\n    memswap_limit: 256m\n    ports:\n      - "9705:9705"\n    volumes:\n      - /your-path/huntarr:/config\n    environment:\n      - TZ=America/New_York\n')),(0,a.yg)("h2",{id:"disk-io-optimization"},"Disk I/O Optimization"),(0,a.yg)("h3",{id:"minimize-metadata-operations"},"Minimize Metadata Operations"),(0,a.yg)("p",null,"Metadata operations can cause significant disk activity in your *arr applications:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Always enable ",(0,a.yg)("inlineCode",{parentName:"li"},"skip_refresh")," to prevent metadata refreshes"),(0,a.yg)("li",{parentName:"ul"},"Reduce the frequency of hunting cycles with a longer ",(0,a.yg)("inlineCode",{parentName:"li"},"sleep_duration"))),(0,a.yg)("h3",{id:"optimize-log-management"},"Optimize Log Management"),(0,a.yg)("p",null,"For systems with limited I/O capacity:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Set a lower log retention period"),(0,a.yg)("li",{parentName:"ul"},"Use an external log management solution"),(0,a.yg)("li",{parentName:"ul"},"Mount the ",(0,a.yg)("inlineCode",{parentName:"li"},"/config/logs")," directory to a separate volume with better I/O characteristics")),(0,a.yg)("h2",{id:"network-optimization"},"Network Optimization"),(0,a.yg)("h3",{id:"reduce-api-traffic"},"Reduce API Traffic"),(0,a.yg)("p",null,"Huntarr can generate significant API traffic to your *arr applications:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Increase ",(0,a.yg)("inlineCode",{parentName:"li"},"sleep_duration")," to reduce the frequency of API calls"),(0,a.yg)("li",{parentName:"ul"},"Lower ",(0,a.yg)("inlineCode",{parentName:"li"},"hunt_missing")," and ",(0,a.yg)("inlineCode",{parentName:"li"},"hunt_upgrades")," values to reduce per-cycle traffic"),(0,a.yg)("li",{parentName:"ul"},"Set an appropriate ",(0,a.yg)("inlineCode",{parentName:"li"},"api_hourly_cap")," to limit overall traffic")),(0,a.yg)("h3",{id:"optimize-for-high-latency-connections"},"Optimize for High-Latency Connections"),(0,a.yg)("p",null,"If your *arr applications are on a different network or have high latency:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Increase ",(0,a.yg)("inlineCode",{parentName:"li"},"universal_api_timeout")," to allow more time for API responses"),(0,a.yg)("li",{parentName:"ul"},"Use longer ",(0,a.yg)("inlineCode",{parentName:"li"},"command_wait_delay")," values"),(0,a.yg)("li",{parentName:"ul"},"Consider running Huntarr on the same network as your *arr applications")),(0,a.yg)("h2",{id:"multi-instance-performance"},"Multi-Instance Performance"),(0,a.yg)("p",null,"When running multiple Huntarr instances:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Distribute connections to different *arr applications across instances"),(0,a.yg)("li",{parentName:"ul"},"Use staggered ",(0,a.yg)("inlineCode",{parentName:"li"},"sleep_duration")," values to prevent simultaneous processing"),(0,a.yg)("li",{parentName:"ul"},"Assign different resource limits based on the importance of each instance")),(0,a.yg)("h2",{id:"docker-host-tuning"},"Docker Host Tuning"),(0,a.yg)("p",null,"For advanced users, optimize the Docker host for better performance:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Use a high-performance filesystem for the configuration volume"),(0,a.yg)("li",{parentName:"ul"},"Allocate sufficient CPU resources for consistent performance"),(0,a.yg)("li",{parentName:"ul"},"Consider using host networking mode for better network performance")),(0,a.yg)("h2",{id:"performance-monitoring"},"Performance Monitoring"),(0,a.yg)("h3",{id:"built-in-monitoring"},"Built-in Monitoring"),(0,a.yg)("p",null,"Huntarr provides:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"API usage statistics in the dashboard"),(0,a.yg)("li",{parentName:"ul"},"Detailed logs of operations and timing")),(0,a.yg)("h3",{id:"external-monitoring"},"External Monitoring"),(0,a.yg)("p",null,"For more comprehensive monitoring:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Use container monitoring tools like Prometheus and Grafana"),(0,a.yg)("li",{parentName:"ul"},"Monitor system resource usage with tools like Netdata or Glances"),(0,a.yg)("li",{parentName:"ul"},"Set up alerts for excessive resource usage")))}p.isMDXComponent=!0},9916:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>d});var r=t(3696);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),u=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=u(e.components);return r.createElement(s.Provider,{value:n},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=u(t),g=a,d=m["".concat(s,".").concat(g)]||m[g]||p[g]||i;return t?r.createElement(d,o(o({ref:n},c),{},{components:t})):r.createElement(d,o({ref:n},c))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=g;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[m]="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=t[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"}}]);